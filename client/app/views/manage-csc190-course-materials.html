<div class="navBardemoBasicUsage" ng-init="initFirst()">
  <div class="md-padding">


    <md-button class="md-primary md-raised" aria-label="add-cm" ng-click="showAddContent($event)">
      Add New Content
    </md-button>

    <md-button class="md-primary md-raised" aria-label="add-cm" ng-click="showAddCategory($event)">
      Add New Category
    </md-button>
    </section>
  </div>
  <div class="md-padding">
    <md-divider></md-divider>
    <br>
    <div ng-repeat="category in allContent">
      <div layout="row" layout-align="start center">
        <md-button ng-show="{{category.name != ''}}" class="md-icon-button" ng-click="showDeleteCategory($event, category)">
          <i class="material-icons" style="padding-top: 5px" aria-label="Delete Team">delete</i>
        </md-button>
        <h3>{{category.name}}</h3>
      </div>
      <div class="container-fluid" style="margin-top:20px">
        <div class="row">
          <div class="col col-12 col-md-auto">
            <div class="panel panel-default panel-table">
              <div class="panel-heading">
                <div class="tr">
                  <div class="td">Delete</div>
                  <div class="td">Title</div>
                  <div class="td">Description</div>
                </div>
              </div>
              <div class="panel-body">
                <div ng-repeat="item in category.content" class="tr">
                  <div class="td">
                    <md-button class="md-icon-button" ng-click="showDeleteContent($event, item)">
                      <i class="material-icons" aria-label="Delete Content">delete</i>
                    </md-button>
                  </div>
                  <div class="td" style="min-width:300px">
                    {{item.title}} (<a href="{{item.href}}">{{item.extension}}</a>)
                  </div>
                  <div class="td">
                    {{item.description}}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="md-padding dialogdemoBasicUsage" id="popupContainer" ng-cloak="">

    <script type="text/ng-template" id="dialog4.deleteContent.html">
      <md-dialog aria-label="Delete Content">
        <form ng-cloak>
          <md-toolbar>
            <div class="md-toolbar-tools">
              <h2>Delete Content</h2>
              <span flex></span>
              <md-button class="md-icon-button" ng-click="cancel()">
                <i class="material-icons" aria-label="Close dialog">clear</i>
              </md-button>
            </div>
          </md-toolbar>

          <div class="md-dialog-content">
            <md-form>
              <div layout-align="center center">

                <div>
                  <h3>Are you sure you want to delete this item?</h3>
                  <br>
                </div>

              </div>
            </md-form>
            </md-dialog-content>
            <md-divider></md-divider>

            <md-dialog-actions layout="row" layout-align="space-around center">
              <md-button class="md-primary md-raised" ng-click="deleteContent()">
                Yes
              </md-button>
              <md-button class="md-primary md-raised" ng-click="cancel()">
                No
              </md-button>
            </md-dialog-actions>

        </form>
      </md-dialog>
    </script>
    </div>

    <div class="md-padding dialogdemoBasicUsage" id="popupContainer" ng-cloak="">

      <script type="text/ng-template" id="dialog3.deleteCategory.html">
        <md-dialog aria-label="Delete Category">
          <form ng-cloak>
            <md-toolbar>
              <div class="md-toolbar-tools">
                <h2>Delete Category</h2>
                <span flex></span>
                <md-button class="md-icon-button" ng-click="cancel()">
                  <i class="material-icons" aria-label="Close dialog">clear</i>
                </md-button>
              </div>
            </md-toolbar>

            <div class="md-dialog-content">
              <md-form>
                <div layout-align="center center">

                  <div>
                    <h3>Are you sure you want to delete this category?</h3>
                    <p style="color:red;">(This will delete all content in this category!)</p>
                    <br>
                  </div>

                </div>
              </md-form>
              </md-dialog-content>
              <md-divider></md-divider>

              <md-dialog-actions layout="row" layout-align="space-around center">
                <md-button class="md-primary md-raised" ng-click="deleteCategory()">
                  Yes
                </md-button>
                <md-button class="md-primary md-raised" ng-click="cancel()">
                  No
                </md-button>
              </md-dialog-actions>

          </form>
        </md-dialog>
      </script>
      </div>

      <div class="md-padding dialogdemoBasicUsage" id="popupContainer" ng-cloak="">

        <script type="text/ng-template" id="dialog2.addCategory.html">
          <md-dialog aria-label="Create Category">
            <form ng-submit="createCategory()" ng-cloak>
              <md-toolbar>
                <div class="md-toolbar-tools">
                  <h2>Add Category</h2>
                  <span flex></span>
                  <md-button class="md-icon-button" ng-click="cancel()">
                    <i class="material-icons" aria-label="Close dialog">clear</i>
                  </md-button>
                </div>
              </md-toolbar>

              <md-dialog-content>
                <div class="md-dialog-content">
                  <md-form>
                    <div layout-align="center center">

                      <div>
                        <md-input-container md-is-error="submitCreateCategory == true">
                          <input placeholder="Category Name" ng-model="categoryName" style="min-width: 500px" required>
                        </md-input-container>
                      </div>

                    </div>
                  </md-form>
              </md-dialog-content>

              <md-dialog-actions layout="row">
                <md-button type="submit" class="md-primary md-raised">
                  Add Category
                </md-button>
              </md-dialog-actions>

            </form>
          </md-dialog>
        </script>
        </div>
        <div class="md-padding dialogdemoBasicUsage" id="popupContainer" ng-cloak="">

          <script type="text/ng-template" id="dialog1.addContent.html">
            <md-dialog aria-label="Add Content">
              <form ng-submit="createContent()" ng-cloak>
                <md-toolbar>
                  <div class="md-toolbar-tools">
                    <h2>Add Content</h2>
                    <span flex></span>
                    <md-button class="md-icon-button" ng-click="cancel()">
                      <i class="material-icons" aria-label="Close dialog">clear</i>
                    </md-button>
                  </div>
                </md-toolbar>

                <md-dialog-content>
                  <div class="md-dialog-content">
                    <md-form>
                      <div layout-align="center center">

                        <div>
                          <md-input-container md-is-error="submitCreateContent == true && contentTitle == null">
                            <input placeholder="Title" ng-model="contentTitle" style="min-width: 500px" required>
                          </md-input-container>
                        </div>

                        <div>
                          <md-input-container md-is-error="submitCreateContent == true && linkText == null">
                            <input placeholder="Link Text" ng-model="linkText" style="min-width: 500px" required>
                          </md-input-container>
                        </div>

                        <div>
                          <md-input-container class="md-block">
                            <label>Description</label>
                            <textarea ng-model="contentDescription" md-maxlength="500" rows="3" md-select-on-focus></textarea>
                          </md-input-container>
                        </div>

                        <div>
                          <md-input-container>
                            <label>Category</label>
                            <md-select placeholder="Category" ng-model="category" style="min-width: 500px">
                              <md-option ng-value="category" ng-repeat="category in allContent">{{category.name}}</md-option>
                            </md-select>
                          </md-input-container>
                        </div>

                        <div>
                          <md-input-container>
                            <md-radio-group ng-model="selectedContentType" md-is-error="submitCreateContent == true">
                              <md-radio-button value="externalLink">External Link</md-radio-button>
                              <md-radio-button value="uploadFile">Upload File</md-radio-button>
                              <md-radio-button value="uploadTemplate">Upload Template</md-radio-button>
                            </md-radio-group>
                          </md-input-container>
                        </div>

                        <div ng-show="selectedContentType == 'externalLink'">
                          <div>
                            <md-input-container md-is-error="submitCreateContent == true && (contentUrl == null || uploadedFile == null)">
                              <input placeholder="URL" ng-model="contentUrl" style="min-width: 500px">
                            </md-input-container>
                          </div>
                        </div>

                        <div ng-show="selectedContentType == 'uploadFile' || selectedContentType == 'uploadTemplate'">
                          <md-content layout-padding layout="row" layout-align="start end">
                            <aps-upload-file></aps-upload-file>
                          </md-content>
                        </div>

                      </div>
                    </md-form>
                  </div>
                </md-dialog-content>

                <md-dialog-actions layout="row">
                  <md-button type="submit" class="md-primary md-raised">
                    Add Content
                  </md-button>
                </md-dialog-actions>

              </form>
            </md-dialog>
          </script>
        </div>
