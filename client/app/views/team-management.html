<div class="navBardemoBasicUsage" ng-init="initFirst()">
  <md-toolbar class="md-theme-light">
    <div class="md-toolbar-tools">
      <h2 class="md-flex">Team Management</h2>
      <span flex=""></span>
    </div>
  </md-toolbar>

  <div class="md-padding">
    <md-subheader class="md-primary md-no-sticky">CSc 190 Teams</md-subheader>
    <md-divider></md-divider>

    <!--- Table ---->
    <md-table-container>
      <table md-table multiple ng-model="selected" md-promise="promise">
        <thead md-head>
          <tr md-row>
            <th md-column>Team Name</th>
            <th md-column>Course</th>
            <th md-column>Faculty Advisor</th>
            <th md-column>Client</th>
            <th md-column>Team Members</th>
          </tr>
        </thead>
        <tbody md-body>
          <tr md-row ng-repeat="team in teamList" ng-if="team.course === '190'">
            <td md-cell>{{team.name}}</td>
            <td ng-repeat="course in courseList" ng-if="course.name === team.course" md-cell>
              {{ course.name }}
            </td>
            <td ng-repeat="advisor in advisorList" ng-if="advisor.advisor_id === team.advisor" md-cell>
              {{ advisor.name }}
            </td>
            <td ng-repeat="client in clientList" ng-if="client.client_id === team.client" md-cell>
              {{ client.name }}
            </td>
            <td ng-repeat="student in studentList" ng-if="student.team === team.team_id" md-cell>{{student.name}}</td>
            <td sm-cell>
              <md-button class="md-icon-button" ng-click="showEdit($event, team, course, advisor, client, student)">
                <i class="material-icons" aria-label="Edit Team">edit</i>
              </md-button>
            </td>
            <td sm-cell>
              <md-button class="md-icon-button" ng-click="showDelete($event, team)">
                <i class="material-icons" aria-label="Delete Team">delete</i>
              </md-button>
            </td>
          </tr>
        </tbody>
      </table>
    </md-table-container>


    <md-subheader class="md-primary">CSc 191 Teams</md-subheader>
    <md-divider></md-divider>
    <!--- Table ---->
    <md-table-container>
      <table md-table multiple ng-model="selected" md-promise="promise">
        <thead md-head>
          <tr md-row>
            <th md-column>Team Name</th>
            <th md-column>Course</th>
            <th md-column>Faculty Advisor</th>
            <th md-column>Client</th>
            <th md-column>Team Members</th>
          </tr>
        </thead>
        <tbody md-body>
          <tr md-row ng-repeat="team in teamList" ng-if="team.course === '191'">
            <td md-cell>{{team.name}}</td>
            <td ng-repeat="course in courseList" ng-if="course.name === team.course" md-cell>
              {{ course.name }}
            </td>
            <td ng-repeat="advisor in advisorList" ng-if="advisor.advisor_id === team.advisor" md-cell>
              {{ advisor.name }}
            </td>
            <td ng-repeat="client in clientList" ng-if="client.client_id === team.client" md-cell>
              {{ client.name }}
            </td>
            <td ng-repeat="student in studentList" ng-if="student.team === team.team_id" md-cell>{{student.name}}</td>
            <td sm-cell>
              <md-button class="md-icon-button" ng-click="showEdit($event, team, course, advisor, client, student)">
                <i class="material-icons" aria-label="Edit Team">edit</i>
              </md-button>
            </td>
            <td sm-cell>
              <md-button class="md-icon-button" ng-click="showDelete($event, team)">
                <i class="material-icons" aria-label="Delete Team">delete</i>
              </md-button>
            </td>
          </tr>
        </tbody>
      </table>
    </md-table-container>

    <md-subheader class="md-primary">Retired Teams</md-subheader>
    <md-divider></md-divider>

    <md-table-container>
      <table md-table multiple ng-model="selected" md-promise="promise">
        <thead md-head>
          <tr md-row>
            <th md-column>Team Name</th>
            <th md-column>Course</th>
            <th md-column>Faculty Advisor</th>
            <th md-column>Client</th>
            <th md-column>Team Members</th>
          </tr>
        </thead>
        <tbody md-body>
          <tr md-row ng-repeat="team in teamList" ng-if="team.course === 'Retired'">
            <td md-cell>{{team.name}}</td>
            <td ng-repeat="course in courseList" ng-if="course.name === team.course" md-cell>
              {{ course.name }}
            </td>
            <td ng-repeat="advisor in advisorList" ng-if="advisor.advisor_id === team.advisor" md-cell>
              {{ advisor.name }}
            </td>
            <td ng-repeat="client in clientList" ng-if="client.client_id === team.client" md-cell>
              {{ client.name }}
            </td>
            <td ng-repeat="student in studentList" ng-if="student.team === team.team_id" md-cell>{{student.name}}</td>
            <td sm-cell>
              <md-button class="md-icon-button" ng-click="showEdit($event, team, course, advisor, client, student)">
                <i class="material-icons" aria-label="Edit Team">edit</i>
              </md-button>
            </td>
            <td sm-cell>
              <md-button class="md-icon-button" ng-click="showDelete($event, team)">
                <i class="material-icons" aria-label="Delete Team">delete</i>
              </md-button>
            </td>
          </tr>
        </tbody>
      </table>
    </md-table-container>

  </div>

<md-button class="md-primary md-raised" aria-label="Create Team" ng-click="showCreate($event)">
  Create Team
</md-button>

<md-button class="md-primary md-raised" aria-label="Migrate Teams" ng-click="showMigrateConfirm($event)">
  Migrate Teams
</md-button>


<!-- CREATE TEAM -->

<div class="md-padding dialogdemoBasicUsage" id="popupContainer" ng-cloak="">

  <script type="text/ng-template" id="dialog1.tmpl.html"><md-dialog aria-label="Create Team">
    <form ng-cloak>
      <md-toolbar>
        <div class="md-toolbar-tools">
          <h2>Create Team</h2>
          <span flex></span>
          <md-button class="md-icon-button" ng-click="cancel()">
            <i class="material-icons" aria-label="Close dialog">clear</i>
          </md-button>
        </div>
      </md-toolbar>

      <md-dialog-content>
        <div class="md-dialog-content">
          <md-form>
            <div layout-align="center center">

              <div layout-padding="">
                <md-input-container>
                  <input placeholder="Team Name" ng-model="team.name" style="min-width: 500px" required>
                </md-input-container>
              </div>

              <div layout-padding="" layout-gt-xs="row">
                <md-input-container>
                    <label>Course</label>
                    <md-select placeholder="Course" ng-model="course" style="min-width:200px">
                      <md-option ng-value="course" ng-repeat="course in courseList">{{course.name}}</md-option>
                    </md-select>
                  </md-input-container>
                  <md-input-container>
                    <label>Faculty Advisor</label>
                    <md-select placeholder="Advisor" ng-model="advisor" style="min-width: 200px">
                      <md-option ng-value="advisor" ng-repeat="advisor in advisorList">{{advisor.name}}</md-option>
                    </md-select>
                  </md-input-container>
                  <md-input-container>
                    <label>Client</label>
                    <md-select placeholder="Client" ng-model="client" style="min-width: 200px">
                      <md-option ng-value="client" ng-repeat="client in clientList">{{client.name}}</md-option>
                    </md-select>
                  </md-input-container>
                </div>

                <div layout-padding="">
                  <h5 class="md-title">Team Members</h4>
                  <md-select placeholder="Student" ng-model="studentOne" style="min-width: 200px">
                    <md-option ng-value="studentOne" ng-repeat="studentOne in studentList">{{studentOne.name}}</md-option>
                  </md-select>
                  <md-select placeholder="Student" ng-model="studentTwo" style="min-width: 200px">
                    <md-option ng-value="studentTwo" ng-repeat="studentTwo in studentList">{{studentTwo.name}}</md-option>
                  </md-select>
                  <md-select placeholder="Student" ng-model="studentThree" style="min-width: 200px">
                    <md-option ng-value="studentThree" ng-repeat="studentThree in studentList">{{studentThree.name}}</md-option>
                  </md-select>
                  <md-select placeholder="Student" ng-model="studentFour" style="min-width: 200px">
                    <md-option ng-value="studentFour" ng-repeat="studentFour in studentList">{{studentFour.name}}</md-option>
                  </md-select>
                  <md-select placeholder="Student" ng-model="studentFive" style="min-width: 200px">
                    <md-option ng-value="studentFive" ng-repeat="studentFive in studentList">{{studentFive.name}}</md-option>
                  </md-select>
                  <md-select placeholder="Student" ng-model="studentSix" style="min-width: 200px">
                    <md-option ng-value="studentSix" ng-repeat="studentSix in studentList">{{studentSix.name}}</md-option>
                  </md-select>
                </div>
            </div>
          </md-form>
        </div>
      </md-dialog-content>
      <md-dialog-actions layout="row">
        <md-button class="md-primary md-raised" ng-click="createteam()">
          Create
        </md-button>
      </md-dialog-actions>
    </form>
   </md-dialog>
  </script>
</div>

<!-- EDIT TEAM -->

<div class="md-padding dialogdemoBasicUsage" id="popupContainer" ng-cloak="">

  <script type="text/ng-template" id="dialog2.tmpl.html"><md-dialog aria-label="Edit Team">
    <form ng-cloak>
      <md-toolbar>
        <div class="md-toolbar-tools">
          <h2>Edit Team</h2>
          <span flex></span>
          <md-button class="md-icon-button" ng-click="cancel()">
            <i class="material-icons" aria-label="Close Dialog">&#xE5CD;</i>
          </md-button>
        </div>
      </md-toolbar>

      <md-dialog-content>
        <div class="md-dialog-content">
          <md-form>
            <div layout-align="center center">

              <md-content layout-padding="">
                <div>
                  <md-input-container>
                    <label>Team Name</label>
                    <input placeholder="{{team.name}}" ng-model="team.name" style="min-width:200px" required>
                  </md-input-container>
                </div>
              </md-content>

              <md-content layout-padding="">
                <div layout-gt-xs="row">

                  <md-input-container>
                    <label>Course</label>
                    <md-select placeholder="Course" ng-model="course" style="min-width:200px">
                      <md-option value="">None</md-option>
                      <md-option ng-selected = "course.name === team.course"
                      ng-value="course" ng-repeat="course in courseList">{{course.name}}</md-option>
                    </md-select>
                  </md-input-container>

                  <md-input-container>
                    <label>Faculty Advisor</label>
                    <md-select placeholder="Advisor" ng-model="advisor" style="min-width: 200px">
                      <md-option value="">None</md-option>
                      <md-option ng-selected = "advisor.advisor_id === team.advisor"
                      ng-value="advisor" ng-repeat="advisor in advisorList">{{advisor.name}}</md-option>
                    </md-select>
                  </md-input-container>

                  <md-input-container>
                    <label>Client</label>
                    <md-select placeholder="Client" ng-model="client" style="min-width: 200px">
                      <md-option value="">None</md-option>
                      <md-option ng-selected = "client.client_id === team.client"
                      ng-value="client" ng-repeat="client in clientList">{{client.name}}</md-option>
                    </md-select>
                  </md-input-container>

                </div>
              </md-content>

              <md-content layout-padding="">

                <md-subheader>Team Members</md-subheader>

                <md-list-item ng-repeat="student in studentList"
                ng-if="student.team === team.team_id" style="min-width:500px">
                  <div>
                    <md-input-container>
                      <md-select placeholder="Student" ng-model="student" style="min-width: 500px">

                        <md-option value="">None</md-option>
                        <md-option ng-value="student" ng-repeat="student in studentList">{{student.name}}</md-option>

                      </md-select>
                    </md-input-container>
                  </div>

                </md-list-item>

              </md-content>

            </div>
          </md-form>
        </div>
      </md-dialog-content>

      <md-dialog-actions layout="row">
        <md-button class="md-primary md-raised" ng-click="editteam()">
          Edit
        </md-button>
      </md-dialog-actions>

    </form>
   </md-dialog>
  </script>
</div>

<!-- DELETE TEAM -->

<div class="md-padding dialogdemoBasicUsage" id="popupContainer" ng-cloak="">

  <script type="text/ng-template" id="dialog3.tmpl.html"><md-dialog aria-label="Delete Team">
    <form ng-cloak>

      <md-dialog-content>
        <div class="md-dialog-content">
          <p class="md-subhead">Are you sure you would like to delete the team?</p>
        </div>
      </md-dialog-content>

      <md-dialog-actions layout="row">
        <md-button class="md-raised" ng-click="cancel()">
          No
        </md-button>
        <md-button class="md-primary md-raised" ng-click="deleteteam()">
          Yes
        </md-button>
      </md-dialog-actions>

    </form>
   </md-dialog>
  </script>
</div>
